<!DOCTYPE html>
<html lang="en">

<head>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <title>
  Tutorial 1 - NicolNavi Basics · NicoNavi
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="NicoNavi">
<meta name="description" content="
  1. Overview
  
    
    Link to heading
  

Work through this tutorial to learn the core NicolNavi operations using a pelitic schist microscope video. By following the steps you will complete preprocessing, grain-boundary detection, mineral labelling, and basic modal/SPO checks for a rotation video.

  2. Prerequisites
  
    
    Link to heading
  


NicolNavi is running and the target project is open.
You can access the sample video nicolnavi_app/Examples/pelitic-schist-xpl.avi.


  3. Layout
  
    
    Link to heading
  


Left panel: Image viewer showing the analysed frame, boundaries, and labels.
Right panel: Buttons, parameter inputs, and checkboxes for each stage.
Center: Image list selector that swaps the map displayed on the left.


  4. Workflow
  
    
    Link to heading
  


  4.1 Load the Video
  
    
    Link to heading
  


Click 1 Select on the right panel.
Choose nicolnavi_app/Examples/pelitic-schist-xpl.avi and open it.
Confirm that the left panel shows the first frame resized to a width of 1000 px.



  4.2 Run Preprocessing
  
    
    Link to heading
  


Select 2 Start to launch discretisation and rotation-centre estimation.
When the process finishes, the app switches to the rotation-centre adjustment screen.



  4.3 Adjust the Rotation Centre
  
    
    Link to heading
  


Check that the red cross is centred on the concentric pattern.
If it is misaligned, fine-tune the coordinates with the &#43; and − buttons. In this dataset the default position is almost correct, so you can skip adjustments.
Click 3 Continue to fix the centre.


  4.4 Review the Derived Maps
  
    
    Link to heading
  


After the automatic transition, open Image list and review these representative maps.


  
      
          Map
          Description
      
  
  
      
          color
          Brightest colours observed during a full rotation.
      
      
          extinction color
          Colours at the darkest instant. If the image never darkens, re-check the previous steps.
      
      
          R
          Pixel-level retardation values. The Video tab controls the retardation search range. With max retardation = 300, non-quartz values are indicative only.
      
      
          extinction angle
          Map of extinction angles for each pixel.
      
      
          raw image
          Unprocessed frame. Selecting, for example, $\phi = 22.5\degree$ shows the frame at that rotation angle.
      
  



  
    Warning
  
  If the entire extinction color map remains bright, the sensor may be saturating or preprocessing was inadequate. Tutorial 2 covers remedies.



  4.5 Tune Grain-Boundary Parameters
  
    
    Link to heading
  


Set the initial parameters in the right panel for your target textures.
Press 6 Detect Grain Boundary to overlay the detected boundaries.
Adjust 4 median filter and 5 parameters as shown below.
Click 6 Calculate grain boundaries again to refresh the result.



Left: default settings. Right: after tuning.

  
      
          Parameter
          Description
      
  
  
      
          median filter
          Smoothing window for noise suppression. Large values remove fine structure.
      
      
          boundary detection sensitivity
          Higher values capture finer details but increase false positives.
      
      
          boundary connectivity
          Maximum gap (px) treated as connected. Excessive values over-connect regions.
      
      
          smallest grain size
          Minimum area in px^2. Regions below the threshold are discarded as noise.
      
  


  
    Info
  
  Expect to iterate when extracting boundaries. Toggle Show grain boundary to inspect the overlay frequently.



  
    Warning
  
  A single parameter set rarely isolates all mineral combinations. Some datasets require mineral-specific processing.



  4.6 Finalise the Grain Boundaries
  
    
    Link to heading
  


Continue adjusting until the result matches your intent.
Click 7 Continue to proceed to the labelling stage.


  4.7 Configure Labels
  
    
    Link to heading
  


Enter mica in Label Name and press &#43;. Add bulk in the same way.
Select mica, then click 5–10 representative mica grains in the left panel. Repeat for bulk.
If misclassifications remain, extend the training data until predictions stabilise.
Choose Done to confirm the labels. In this sample a few dozen grains are sufficient.



  4.8 Propagate Labels
  
    
    Link to heading
  


Press 9 Propagate labels to apply labels to all grains based on the training set.
Inspect the result. If the classification drifts, add training grains and re-run the propagation.


  4.9 Manual Edits
  
    
    Link to heading
  


Use 10 edit labels to switch to manual editing.
Choose the desired label and click regions that require corrections.
Toggle Show grain boundary to verify the outline while editing.


  4.10 Save the Labelling Result
  
    
    Link to heading
  


When satisfied, select 11 Save to store the label configuration.
Leaving the screen without saving discards the edits, so save before moving on.


  4.11 Export Images (Optional)
  
    
    Link to heading
  


Use 12 Save image to export the current view.
PNG is recommended for documentation or publications.


  5. Analyse Modal Composition
  
    
    Link to heading
  


  5.1 Histogram-Based Ratios
  
    
    Link to heading
  


Open the analysis tab.
Select histogram view and choose retardation as the metric.
Use 13 minerals to toggle mineral visibility and study the distribution.




  
    Info
  
  The histogram shows the mean, standard deviation, min/max, mode, and count for each group. Use these values to interpret retardation ranges for the labelled minerals.



  5.2 Rose Diagram
  
    
    Link to heading
  


Switch the view to rose diagram to examine preferred orientations.
Enable 14 rose diagram and keep retardation selected.




  5.3 Orientation Stats
  
    
    Link to heading
  


Focus on the mica alignment by selecting only the mica label.
Read the statistics in 16 information. Example output:

Mean orientation: bulk: 171.952°, mica: 171.952°
Circular variance: bulk: 0.458, mica: 0.458
Mean orientation indicates the SPO trend for mica. Circular variance approaches 0 for strong alignment and 1 for random orientations.">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Tutorial 1 - NicolNavi Basics">
  <meta name="twitter:description" content="1. Overview Link to heading Work through this tutorial to learn the core NicolNavi operations using a pelitic schist microscope video. By following the steps you will complete preprocessing, grain-boundary detection, mineral labelling, and basic modal/SPO checks for a rotation video.
2. Prerequisites Link to heading NicolNavi is running and the target project is open. You can access the sample video nicolnavi_app/Examples/pelitic-schist-xpl.avi. 3. Layout Link to heading Left panel: Image viewer showing the analysed frame, boundaries, and labels. Right panel: Buttons, parameter inputs, and checkboxes for each stage. Center: Image list selector that swaps the map displayed on the left. 4. Workflow Link to heading 4.1 Load the Video Link to heading Click 1 Select on the right panel. Choose nicolnavi_app/Examples/pelitic-schist-xpl.avi and open it. Confirm that the left panel shows the first frame resized to a width of 1000 px. 4.2 Run Preprocessing Link to heading Select 2 Start to launch discretisation and rotation-centre estimation. When the process finishes, the app switches to the rotation-centre adjustment screen. 4.3 Adjust the Rotation Centre Link to heading Check that the red cross is centred on the concentric pattern. If it is misaligned, fine-tune the coordinates with the &#43; and − buttons. In this dataset the default position is almost correct, so you can skip adjustments. Click 3 Continue to fix the centre. 4.4 Review the Derived Maps Link to heading After the automatic transition, open Image list and review these representative maps. Map Description color Brightest colours observed during a full rotation. extinction color Colours at the darkest instant. If the image never darkens, re-check the previous steps. R Pixel-level retardation values. The Video tab controls the retardation search range. With max retardation = 300, non-quartz values are indicative only. extinction angle Map of extinction angles for each pixel. raw image Unprocessed frame. Selecting, for example, $\phi = 22.5\degree$ shows the frame at that rotation angle. Warning If the entire extinction color map remains bright, the sensor may be saturating or preprocessing was inadequate. Tutorial 2 covers remedies. 4.5 Tune Grain-Boundary Parameters Link to heading Set the initial parameters in the right panel for your target textures. Press 6 Detect Grain Boundary to overlay the detected boundaries. Adjust 4 median filter and 5 parameters as shown below. Click 6 Calculate grain boundaries again to refresh the result. Left: default settings. Right: after tuning. Parameter Description median filter Smoothing window for noise suppression. Large values remove fine structure. boundary detection sensitivity Higher values capture finer details but increase false positives. boundary connectivity Maximum gap (px) treated as connected. Excessive values over-connect regions. smallest grain size Minimum area in px^2. Regions below the threshold are discarded as noise. Info Expect to iterate when extracting boundaries. Toggle Show grain boundary to inspect the overlay frequently. Warning A single parameter set rarely isolates all mineral combinations. Some datasets require mineral-specific processing. 4.6 Finalise the Grain Boundaries Link to heading Continue adjusting until the result matches your intent. Click 7 Continue to proceed to the labelling stage. 4.7 Configure Labels Link to heading Enter mica in Label Name and press &#43;. Add bulk in the same way. Select mica, then click 5–10 representative mica grains in the left panel. Repeat for bulk. If misclassifications remain, extend the training data until predictions stabilise. Choose Done to confirm the labels. In this sample a few dozen grains are sufficient. 4.8 Propagate Labels Link to heading Press 9 Propagate labels to apply labels to all grains based on the training set. Inspect the result. If the classification drifts, add training grains and re-run the propagation. 4.9 Manual Edits Link to heading Use 10 edit labels to switch to manual editing. Choose the desired label and click regions that require corrections. Toggle Show grain boundary to verify the outline while editing. 4.10 Save the Labelling Result Link to heading When satisfied, select 11 Save to store the label configuration. Leaving the screen without saving discards the edits, so save before moving on. 4.11 Export Images (Optional) Link to heading Use 12 Save image to export the current view. PNG is recommended for documentation or publications. 5. Analyse Modal Composition Link to heading 5.1 Histogram-Based Ratios Link to heading Open the analysis tab. Select histogram view and choose retardation as the metric. Use 13 minerals to toggle mineral visibility and study the distribution. Info The histogram shows the mean, standard deviation, min/max, mode, and count for each group. Use these values to interpret retardation ranges for the labelled minerals. 5.2 Rose Diagram Link to heading Switch the view to rose diagram to examine preferred orientations. Enable 14 rose diagram and keep retardation selected. 5.3 Orientation Stats Link to heading Focus on the mica alignment by selecting only the mica label. Read the statistics in 16 information. Example output: Mean orientation: bulk: 171.952°, mica: 171.952° Circular variance: bulk: 0.458, mica: 0.458 Mean orientation indicates the SPO trend for mica. Circular variance approaches 0 for strong alignment and 1 for random orientations.">

<meta property="og:url" content="https://tan-furukawa.github.io/niconavi/tutorial/tutorial1/">
  <meta property="og:site_name" content="NicoNavi">
  <meta property="og:title" content="Tutorial 1 - NicolNavi Basics">
  <meta property="og:description" content="1. Overview Link to heading Work through this tutorial to learn the core NicolNavi operations using a pelitic schist microscope video. By following the steps you will complete preprocessing, grain-boundary detection, mineral labelling, and basic modal/SPO checks for a rotation video.
2. Prerequisites Link to heading NicolNavi is running and the target project is open. You can access the sample video nicolnavi_app/Examples/pelitic-schist-xpl.avi. 3. Layout Link to heading Left panel: Image viewer showing the analysed frame, boundaries, and labels. Right panel: Buttons, parameter inputs, and checkboxes for each stage. Center: Image list selector that swaps the map displayed on the left. 4. Workflow Link to heading 4.1 Load the Video Link to heading Click 1 Select on the right panel. Choose nicolnavi_app/Examples/pelitic-schist-xpl.avi and open it. Confirm that the left panel shows the first frame resized to a width of 1000 px. 4.2 Run Preprocessing Link to heading Select 2 Start to launch discretisation and rotation-centre estimation. When the process finishes, the app switches to the rotation-centre adjustment screen. 4.3 Adjust the Rotation Centre Link to heading Check that the red cross is centred on the concentric pattern. If it is misaligned, fine-tune the coordinates with the &#43; and − buttons. In this dataset the default position is almost correct, so you can skip adjustments. Click 3 Continue to fix the centre. 4.4 Review the Derived Maps Link to heading After the automatic transition, open Image list and review these representative maps. Map Description color Brightest colours observed during a full rotation. extinction color Colours at the darkest instant. If the image never darkens, re-check the previous steps. R Pixel-level retardation values. The Video tab controls the retardation search range. With max retardation = 300, non-quartz values are indicative only. extinction angle Map of extinction angles for each pixel. raw image Unprocessed frame. Selecting, for example, $\phi = 22.5\degree$ shows the frame at that rotation angle. Warning If the entire extinction color map remains bright, the sensor may be saturating or preprocessing was inadequate. Tutorial 2 covers remedies. 4.5 Tune Grain-Boundary Parameters Link to heading Set the initial parameters in the right panel for your target textures. Press 6 Detect Grain Boundary to overlay the detected boundaries. Adjust 4 median filter and 5 parameters as shown below. Click 6 Calculate grain boundaries again to refresh the result. Left: default settings. Right: after tuning. Parameter Description median filter Smoothing window for noise suppression. Large values remove fine structure. boundary detection sensitivity Higher values capture finer details but increase false positives. boundary connectivity Maximum gap (px) treated as connected. Excessive values over-connect regions. smallest grain size Minimum area in px^2. Regions below the threshold are discarded as noise. Info Expect to iterate when extracting boundaries. Toggle Show grain boundary to inspect the overlay frequently. Warning A single parameter set rarely isolates all mineral combinations. Some datasets require mineral-specific processing. 4.6 Finalise the Grain Boundaries Link to heading Continue adjusting until the result matches your intent. Click 7 Continue to proceed to the labelling stage. 4.7 Configure Labels Link to heading Enter mica in Label Name and press &#43;. Add bulk in the same way. Select mica, then click 5–10 representative mica grains in the left panel. Repeat for bulk. If misclassifications remain, extend the training data until predictions stabilise. Choose Done to confirm the labels. In this sample a few dozen grains are sufficient. 4.8 Propagate Labels Link to heading Press 9 Propagate labels to apply labels to all grains based on the training set. Inspect the result. If the classification drifts, add training grains and re-run the propagation. 4.9 Manual Edits Link to heading Use 10 edit labels to switch to manual editing. Choose the desired label and click regions that require corrections. Toggle Show grain boundary to verify the outline while editing. 4.10 Save the Labelling Result Link to heading When satisfied, select 11 Save to store the label configuration. Leaving the screen without saving discards the edits, so save before moving on. 4.11 Export Images (Optional) Link to heading Use 12 Save image to export the current view. PNG is recommended for documentation or publications. 5. Analyse Modal Composition Link to heading 5.1 Histogram-Based Ratios Link to heading Open the analysis tab. Select histogram view and choose retardation as the metric. Use 13 minerals to toggle mineral visibility and study the distribution. Info The histogram shows the mean, standard deviation, min/max, mode, and count for each group. Use these values to interpret retardation ranges for the labelled minerals. 5.2 Rose Diagram Link to heading Switch the view to rose diagram to examine preferred orientations. Enable 14 rose diagram and keep retardation selected. 5.3 Orientation Stats Link to heading Focus on the mica alignment by selecting only the mica label. Read the statistics in 16 information. Example output: Mean orientation: bulk: 171.952°, mica: 171.952° Circular variance: bulk: 0.458, mica: 0.458 Mean orientation indicates the SPO trend for mica. Circular variance approaches 0 for strong alignment and 1 for random orientations.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="tutorial">
    <meta property="article:published_time" content="2025-10-15T13:10:14+09:00">
    <meta property="article:modified_time" content="2025-10-15T13:10:14+09:00">




<link rel="canonical" href="https://tan-furukawa.github.io/niconavi/tutorial/tutorial1/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/niconavi/css/coder.min.24022876d48fb15813406bbe8c1c4d3b9ab49378f6ff34712fff078e2c04ac12.css" integrity="sha256-JAIodtSPsVgTQGu&#43;jBxNO5q0k3j2/zRxL/8HjiwErBI=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/niconavi/css/coder-dark.min.f7e815ec05a254f4b89393ec609b48ef12a7894283e81d06f3804eb939b90bc7.css" integrity="sha256-9&#43;gV7AWiVPS4k5PsYJtI7xKniUKD6B0G84BOuTm5C8c=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="/img/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="https://tan-furukawa.github.io/niconavi/">
      NicoNavi
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/niconavi/install/">Install</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/niconavi/acquisition/">Data Acquisition</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/niconavi/tutorial/">Tutorial</a>
            </li>
          
        
        
          
          
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="/niconavi/ja/tutorial/tutorial1/">JA</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container page">
  <article>
    <header>
      <h1 class="title">
        <a class="title-link" href="https://tan-furukawa.github.io/niconavi/tutorial/tutorial1/">
          Tutorial 1 - NicolNavi Basics
        </a>
      </h1>
    </header>

    <h2 id="1-overview">
  1. Overview
  <a class="heading-link" href="#1-overview">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Work through this tutorial to learn the core NicolNavi operations using a pelitic schist microscope video. By following the steps you will complete preprocessing, grain-boundary detection, mineral labelling, and basic modal/SPO checks for a rotation video.</p>
<h2 id="2-prerequisites">
  2. Prerequisites
  <a class="heading-link" href="#2-prerequisites">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li>NicolNavi is running and the target project is open.</li>
<li>You can access the sample video <code>nicolnavi_app/Examples/pelitic-schist-xpl.avi</code>.</li>
</ul>
<h2 id="3-layout">
  3. Layout
  <a class="heading-link" href="#3-layout">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li><strong>Left panel</strong>: Image viewer showing the analysed frame, boundaries, and labels.</li>
<li><strong>Right panel</strong>: Buttons, parameter inputs, and checkboxes for each stage.</li>
<li><strong>Center</strong>: <code>Image list</code> selector that swaps the map displayed on the left.</li>
</ul>
<h2 id="4-workflow">
  4. Workflow
  <a class="heading-link" href="#4-workflow">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h3 id="41-load-the-video">
  4.1 Load the Video
  <a class="heading-link" href="#41-load-the-video">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>Click <code>1 Select</code> on the right panel.</li>
<li>Choose <code>nicolnavi_app/Examples/pelitic-schist-xpl.avi</code> and open it.</li>
<li>Confirm that the left panel shows the first frame resized to a width of 1000 px.</li>
</ol>
<img src="https://tan-furukawa.github.io/niconavi/images/page/tutorial/tutorial1/pic1.png" style="width: 30%;">
<h3 id="42-run-preprocessing">
  4.2 Run Preprocessing
  <a class="heading-link" href="#42-run-preprocessing">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>Select <code>2 Start</code> to launch discretisation and rotation-centre estimation.</li>
<li>When the process finishes, the app switches to the rotation-centre adjustment screen.</li>
</ol>
<img src="https://tan-furukawa.github.io/niconavi/images/page/tutorial/tutorial1/pic2.png" style="width: 100%;">
<h3 id="43-adjust-the-rotation-centre">
  4.3 Adjust the Rotation Centre
  <a class="heading-link" href="#43-adjust-the-rotation-centre">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>Check that the red cross is centred on the concentric pattern.</li>
<li>If it is misaligned, fine-tune the coordinates with the <code>+</code> and <code>−</code> buttons. In this dataset the default position is almost correct, so you can skip adjustments.</li>
<li>Click <code>3 Continue</code> to fix the centre.</li>
</ol>
<h3 id="44-review-the-derived-maps">
  4.4 Review the Derived Maps
  <a class="heading-link" href="#44-review-the-derived-maps">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>After the automatic transition, open <code>Image list</code> and review these representative maps.</li>
</ol>
<table>
  <thead>
      <tr>
          <th>Map</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>color</code></td>
          <td>Brightest colours observed during a full rotation.</td>
      </tr>
      <tr>
          <td><code>extinction color</code></td>
          <td>Colours at the darkest instant. If the image never darkens, re-check the previous steps.</td>
      </tr>
      <tr>
          <td><code>R</code></td>
          <td>Pixel-level retardation values. The <code>Video</code> tab controls the retardation search range. With <code>max retardation = 300</code>, non-quartz values are indicative only.</td>
      </tr>
      <tr>
          <td><code>extinction angle</code></td>
          <td>Map of extinction angles for each pixel.</td>
      </tr>
      <tr>
          <td><code>raw image</code></td>
          <td>Unprocessed frame. Selecting, for example, $\phi = 22.5\degree$ shows the frame at that rotation angle.</td>
      </tr>
  </tbody>
</table>
<img src="https://tan-furukawa.github.io/niconavi/images/page/tutorial/tutorial1/pic3.png" style="width: 100%;">
<div class="notice warning">
  <div class="notice-title">
    <i class="fa-solid fa-exclamation-triangle" aria-hidden="true"></i>Warning
  </div>
  <div class="notice-content">If the entire <code>extinction color</code> map remains bright, the sensor may be saturating or preprocessing was inadequate. Tutorial 2 covers remedies.</div>
</div>

<h3 id="45-tune-grain-boundary-parameters">
  4.5 Tune Grain-Boundary Parameters
  <a class="heading-link" href="#45-tune-grain-boundary-parameters">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>Set the initial parameters in the right panel for your target textures.</li>
<li>Press <code>6 Detect Grain Boundary</code> to overlay the detected boundaries.</li>
<li>Adjust <code>4 median filter</code> and <code>5 parameters</code> as shown below.</li>
<li>Click <code>6 Calculate grain boundaries</code> again to refresh the result.</li>
</ol>
<img src="https://tan-furukawa.github.io/niconavi/images/page/tutorial/tutorial1/pic4.png" style="width: 30%;">
<img src="https://tan-furukawa.github.io/niconavi/images/page/tutorial/tutorial1/pic5.png" style="width: 100%;">
Left: default settings. Right: after tuning.
<table>
  <thead>
      <tr>
          <th>Parameter</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>median filter</strong></td>
          <td>Smoothing window for noise suppression. Large values remove fine structure.</td>
      </tr>
      <tr>
          <td><strong>boundary detection sensitivity</strong></td>
          <td>Higher values capture finer details but increase false positives.</td>
      </tr>
      <tr>
          <td><strong>boundary connectivity</strong></td>
          <td>Maximum gap (px) treated as connected. Excessive values over-connect regions.</td>
      </tr>
      <tr>
          <td><strong>smallest grain size</strong></td>
          <td>Minimum area in <code>px^2</code>. Regions below the threshold are discarded as noise.</td>
      </tr>
  </tbody>
</table>
<div class="notice info">
  <div class="notice-title">
    <i class="fa-solid fa-exclamation-circle" aria-hidden="true"></i>Info
  </div>
  <div class="notice-content">Expect to iterate when extracting boundaries. Toggle <code>Show grain boundary</code> to inspect the overlay frequently.</div>
</div>

<div class="notice warning">
  <div class="notice-title">
    <i class="fa-solid fa-exclamation-triangle" aria-hidden="true"></i>Warning
  </div>
  <div class="notice-content">A single parameter set rarely isolates all mineral combinations. Some datasets require mineral-specific processing.</div>
</div>

<h3 id="46-finalise-the-grain-boundaries">
  4.6 Finalise the Grain Boundaries
  <a class="heading-link" href="#46-finalise-the-grain-boundaries">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>Continue adjusting until the result matches your intent.</li>
<li>Click <code>7 Continue</code> to proceed to the labelling stage.</li>
</ol>
<h3 id="47-configure-labels">
  4.7 Configure Labels
  <a class="heading-link" href="#47-configure-labels">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>Enter <code>mica</code> in <code>Label Name</code> and press <code>+</code>. Add <code>bulk</code> in the same way.</li>
<li>Select <code>mica</code>, then click 5–10 representative mica grains in the left panel. Repeat for <code>bulk</code>.</li>
<li>If misclassifications remain, extend the training data until predictions stabilise.</li>
<li>Choose <code>Done</code> to confirm the labels. In this sample a few dozen grains are sufficient.</li>
</ol>
<img src="https://tan-furukawa.github.io/niconavi/images/page/tutorial/tutorial1/pic6.png" style="width: 100%;">
<h3 id="48-propagate-labels">
  4.8 Propagate Labels
  <a class="heading-link" href="#48-propagate-labels">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>Press <code>9 Propagate labels</code> to apply labels to all grains based on the training set.</li>
<li>Inspect the result. If the classification drifts, add training grains and re-run the propagation.</li>
</ol>
<h3 id="49-manual-edits">
  4.9 Manual Edits
  <a class="heading-link" href="#49-manual-edits">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>Use <code>10 edit labels</code> to switch to manual editing.</li>
<li>Choose the desired label and click regions that require corrections.</li>
<li>Toggle <code>Show grain boundary</code> to verify the outline while editing.</li>
</ol>
<h3 id="410-save-the-labelling-result">
  4.10 Save the Labelling Result
  <a class="heading-link" href="#410-save-the-labelling-result">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>When satisfied, select <code>11 Save</code> to store the label configuration.</li>
<li>Leaving the screen without saving discards the edits, so save before moving on.</li>
</ol>
<h3 id="411-export-images-optional">
  4.11 Export Images (Optional)
  <a class="heading-link" href="#411-export-images-optional">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>Use <code>12 Save image</code> to export the current view.</li>
<li>PNG is recommended for documentation or publications.</li>
</ol>
<h2 id="5-analyse-modal-composition">
  5. Analyse Modal Composition
  <a class="heading-link" href="#5-analyse-modal-composition">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h3 id="51-histogram-based-ratios">
  5.1 Histogram-Based Ratios
  <a class="heading-link" href="#51-histogram-based-ratios">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>Open the <code>analysis</code> tab.</li>
<li>Select <code>histogram</code> view and choose <code>retardation</code> as the metric.</li>
<li>Use <code>13 minerals</code> to toggle mineral visibility and study the distribution.</li>
</ol>
<img src="https://tan-furukawa.github.io/niconavi/images/page/tutorial/tutorial1/pic7.png" style="width: 100%;">
<img src="https://tan-furukawa.github.io/niconavi/images/page/tutorial/tutorial1/pic8.png" style="width: 30%;">
<div class="notice info">
  <div class="notice-title">
    <i class="fa-solid fa-exclamation-circle" aria-hidden="true"></i>Info
  </div>
  <div class="notice-content">The histogram shows the mean, standard deviation, min/max, mode, and count for each group. Use these values to interpret retardation ranges for the labelled minerals.</div>
</div>

<h3 id="52-rose-diagram">
  5.2 Rose Diagram
  <a class="heading-link" href="#52-rose-diagram">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>Switch the view to <code>rose diagram</code> to examine preferred orientations.</li>
<li>Enable <code>14 rose diagram</code> and keep <code>retardation</code> selected.</li>
</ol>
<img src="https://tan-furukawa.github.io/niconavi/images/page/tutorial/tutorial1/pic9.png" style="width: 30%;">
<img src="https://tan-furukawa.github.io/niconavi/images/page/tutorial/tutorial1/pic10.png" style="width: 100%;">
<h3 id="53-orientation-stats">
  5.3 Orientation Stats
  <a class="heading-link" href="#53-orientation-stats">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>Focus on the mica alignment by selecting only the <code>mica</code> label.</li>
<li>Read the statistics in <code>16 information</code>. Example output:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Mean orientation: bulk: 171.952°, mica: 171.952°
</span></span><span style="display:flex;"><span>Circular variance: bulk: 0.458, mica: 0.458
</span></span></code></pre></div><p>Mean orientation indicates the SPO trend for mica. Circular variance approaches 0 for strong alignment and 1 for random orientations.</p>
<img src="https://tan-furukawa.github.io/niconavi/images/page/tutorial/tutorial1/pic12.png" style="width: 30%;">
<img src="https://tan-furukawa.github.io/niconavi/images/page/tutorial/tutorial1/pic13.png" style="width: 100%;">
<h3 id="54-spo-view-and-ellipse-approximation">
  5.4 SPO View and Ellipse Approximation
  <a class="heading-link" href="#54-spo-view-and-ellipse-approximation">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>Switch <code>14 rose diagram</code> to <code>SPO</code>.</li>
<li>Choose <code>ellipse</code> from <code>Image list</code> to display ellipse fits for each grain.</li>
</ol>
<img src="https://tan-furukawa.github.io/niconavi/images/page/tutorial/tutorial1/pic14.png" style="width: 100%;">
<h3 id="55-grain-shape-scatter-plot">
  5.5 Grain-Shape Scatter Plot
  <a class="heading-link" href="#55-grain-shape-scatter-plot">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>Change the view to <code>scatter</code>.</li>
<li>Set the axes to <code>x: ellipse major axis length</code> and <code>y: ellipse minor axis length</code>.</li>
<li>Use the regression line to estimate the aspect ratio—for example, <code>y = 0.224 x</code> implies ~1:3.2.</li>
</ol>
<img src="https://tan-furukawa.github.io/niconavi/images/page/tutorial/tutorial1/pic15.png" style="width: 100%;">
<h3 id="56-modal-composition-area-fraction">
  5.6 Modal Composition (Area Fraction)
  <a class="heading-link" href="#56-modal-composition-area-fraction">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ol>
<li>Switch to <code>histogram</code> again.</li>
<li>Enable <code>16 other minerals</code>.</li>
<li>Change the metric from <code>17 retardation</code> to <code>size</code> to plot area-based histograms.</li>
</ol>
<img src="https://tan-furukawa.github.io/niconavi/images/page/tutorial/tutorial1/pic16.png" style="width: 100%;">
<img src="https://tan-furukawa.github.io/niconavi/images/page/tutorial/tutorial1/pic17.png" style="width: 100%;">
<p>Example output:</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Mean: bulk: 394.808, mica: 558.211, other minerals: 383.620
</span></span><span style="display:flex;"><span>Std Dev: bulk: 1807.601, mica: 493.803, other minerals: 1863.461
</span></span><span style="display:flex;"><span>Min: bulk: 14.000, mica: 17.000, other minerals: 14.000
</span></span><span style="display:flex;"><span>Max: bulk: 36946.000, mica: 1814.000, other minerals: 36946.000
</span></span><span style="display:flex;"><span>Mode: bulk: 24.000, mica: 130.000, other minerals: 24.000
</span></span><span style="display:flex;"><span>Count: bulk: 593, mica: 38, other minerals: 555
</span></span><span style="display:flex;"><span>Integral ratio: mica: 9.06%, other minerals: 90.94%
</span></span><span style="display:flex;"><span>Count ratio: mica: 6.41%, other minerals: 93.59%
</span></span></code></pre></div><p><code>Integral ratio</code> gives the area fraction based on the histogram integral. In this example mica constitutes about 9.1%.</p>
<h2 id="6-wrap-up">
  6. Wrap-Up
  <a class="heading-link" href="#6-wrap-up">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li>Following these steps covers preprocessing, boundary detection, labelling, and structural analysis for a rotation video.</li>
<li>Expect to iterate between boundary detection and label propagation. Rebalance parameters and training data if the result is unstable.</li>
<li>Always verify the outputs via <code>information</code> statistics and plots, and cross-check them with the imaging and sample conditions.</li>
</ul>

  </article>
</section>

  

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
    2025
     NicoNavi 
    ·
    
    Powered by 
    Tan Furukawa
    
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/niconavi/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
